{"ast":null,"code":"var _jsxFileName = \"/Users/gherardolattanzi/treasury/src/components/charts/OptimizedChart.tsx\",\n  _s = $RefreshSig$();\n/**\n * Optimized Chart Component\n * High-performance, clean chart implementation with proper error handling and memoization\n */\n\nimport React, { useState, useMemo, memo, useCallback } from 'react';\nimport { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, ComposedChart, Bar } from 'recharts';\nimport { motion } from 'framer-motion';\nimport { CHART_COLORS, CHART_HEIGHTS, ANIMATION_DURATIONS, ANIMATION_DELAYS, THEME_COLORS } from '../../constants';\nimport { formatCurrency, formatVolume, formatChartDate } from '../../utils/formatters';\n\n// Chart type options\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TIMEFRAME_OPTIONS = ['1D', '7D', '30D', '90D', '1Y'];\nconst CHART_TYPE_OPTIONS = [{\n  key: 'price',\n  label: 'Price',\n  color: '#16a34a'\n}, {\n  key: 'marketCap',\n  label: 'Market Cap',\n  color: '#2563eb'\n}, {\n  key: 'volume',\n  label: 'Volume',\n  color: '#dc2626'\n}];\n\n/**\n * Custom tooltip component for better performance\n */\n\nconst CustomTooltip = /*#__PURE__*/memo(_c = ({\n  active,\n  payload,\n  label\n}) => {\n  if (!active || !payload || !payload.length) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rounded-lg p-3 shadow-lg border\",\n    style: {\n      backgroundColor: THEME_COLORS.DARK_BLACK,\n      borderColor: CHART_COLORS.PRIMARY,\n      boxShadow: `0 10px 25px -5px ${CHART_COLORS.PRIMARY}1a`\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs font-mono mb-2\",\n      style: {\n        color: CHART_COLORS.PRIMARY\n      },\n      children: formatChartDate(label)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), payload.map((entry, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs font-mono\",\n      style: {\n        color: entry.color\n      },\n      children: `${entry.name}: ${entry.name === 'Volume' ? formatVolume(entry.value) : formatCurrency(entry.value)}`\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n});\n_c2 = CustomTooltip;\nCustomTooltip.displayName = 'CustomTooltip';\n\n/**\n * Chart header with controls\n */\n\nconst ChartHeader = /*#__PURE__*/memo(_c3 = ({\n  title,\n  currentValue,\n  change24h,\n  activeChart,\n  timeframe,\n  onChartTypeChange,\n  onTimeframeChange\n}) => {\n  const isPositive = change24h >= 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col lg:flex-row lg:items-center justify-between mb-6 gap-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-white mb-2 font-mono\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl font-bold text-white font-mono\",\n          children: activeChart === 'volume' ? formatVolume(currentValue) : formatCurrency(currentValue)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `text-sm font-medium px-2 py-1 rounded font-mono ${isPositive ? `text-[${CHART_COLORS.PRIMARY}] bg-[${CHART_COLORS.PRIMARY}]/10` : 'text-red-400 bg-red-900/30'}`,\n          children: [isPositive ? '+' : '', change24h.toFixed(2), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: CHART_TYPE_OPTIONS.map(({\n          key,\n          label,\n          color\n        }) => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onChartTypeChange(key),\n          className: `px-4 py-2 text-sm font-medium rounded-lg transition-colors font-mono ${activeChart === key ? 'text-black border' : 'text-gray-400 hover:text-white'}`,\n          style: activeChart === key ? {\n            background: CHART_COLORS.PRIMARY,\n            borderColor: CHART_COLORS.PRIMARY\n          } : {\n            background: THEME_COLORS.DARK_BLACK\n          },\n          children: label\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex rounded-lg p-1\",\n        style: {\n          background: THEME_COLORS.DARK_BLACK\n        },\n        children: TIMEFRAME_OPTIONS.map(tf => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onTimeframeChange(tf),\n          className: `px-3 py-1 text-xs font-medium rounded transition-colors font-mono ${timeframe === tf ? 'text-black shadow-sm' : 'text-gray-300 hover:text-white'}`,\n          style: timeframe === tf ? {\n            background: CHART_COLORS.PRIMARY\n          } : {},\n          children: tf\n        }, tf, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n});\n_c4 = ChartHeader;\nChartHeader.displayName = 'ChartHeader';\n\n/**\n * Main Optimized Chart Component\n */\nexport const OptimizedChart = /*#__PURE__*/_s(/*#__PURE__*/memo(_c5 = _s(({\n  data,\n  title,\n  color = CHART_COLORS.PRIMARY,\n  height = CHART_HEIGHTS.LARGE,\n  showVolume = true\n}) => {\n  _s();\n  const [activeChart, setActiveChart] = useState('price');\n  const [timeframe, setTimeframe] = useState('30D');\n\n  // Memoized calculations\n  const {\n    currentValue,\n    change24h,\n    chartData\n  } = useMemo(() => {\n    if (!data || data.length === 0) {\n      return {\n        currentValue: 0,\n        change24h: 0,\n        chartData: []\n      };\n    }\n    const sortedData = [...data].sort((a, b) => new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime());\n    const latest = sortedData[sortedData.length - 1];\n    const previous = sortedData[sortedData.length - 2];\n    const currentVal = (latest === null || latest === void 0 ? void 0 : latest[activeChart]) || 0;\n    const previousVal = (previous === null || previous === void 0 ? void 0 : previous[activeChart]) || currentVal;\n    const change = previousVal === 0 ? 0 : (currentVal - previousVal) / previousVal * 100;\n    return {\n      currentValue: currentVal,\n      change24h: change,\n      chartData: sortedData\n    };\n  }, [data, activeChart]);\n\n  // Event handlers\n  const handleChartTypeChange = useCallback(type => {\n    setActiveChart(type);\n  }, []);\n  const handleTimeframeChange = useCallback(tf => {\n    setTimeframe(tf);\n  }, []);\n\n  // Error boundary fallback\n  if (!data || data.length === 0) {\n    return /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"dark-card flex items-center justify-center\",\n      style: {\n        height\n      },\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      transition: {\n        duration: ANIMATION_DURATIONS.NORMAL\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-400 mb-2\",\n          children: \"\\uD83D\\uDCCA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400 text-sm\",\n          children: \"No chart data available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this);\n  }\n  const gradientId = `gradient-${activeChart}`;\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: \"dark-card\",\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    transition: {\n      duration: ANIMATION_DURATIONS.NORMAL,\n      delay: ANIMATION_DELAYS.MEDIUM\n    },\n    children: [/*#__PURE__*/_jsxDEV(ChartHeader, {\n      title: title,\n      currentValue: currentValue,\n      change24h: change24h,\n      activeChart: activeChart,\n      timeframe: timeframe,\n      onChartTypeChange: handleChartTypeChange,\n      onTimeframeChange: handleTimeframeChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height\n      },\n      className: \"w-full\",\n      children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n        width: \"100%\",\n        height: \"100%\",\n        children: showVolume && activeChart === 'price' ? /*#__PURE__*/_jsxDEV(ComposedChart, {\n          data: chartData,\n          margin: {\n            top: 20,\n            right: 30,\n            left: 20,\n            bottom: 5\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n            children: /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n              id: gradientId,\n              x1: \"0\",\n              y1: \"0\",\n              x2: \"0\",\n              y2: \"1\",\n              children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n                offset: \"5%\",\n                stopColor: color,\n                stopOpacity: 0.3\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                offset: \"95%\",\n                stopColor: color,\n                stopOpacity: 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"1 3\",\n            stroke: CHART_COLORS.GRID,\n            strokeWidth: 0.5,\n            horizontal: true,\n            vertical: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"timestamp\",\n            axisLine: false,\n            tickLine: false,\n            tick: {\n              fill: CHART_COLORS.TEXT_SECONDARY,\n              fontSize: 11,\n              fontFamily: 'JetBrains Mono, monospace'\n            },\n            tickFormatter: formatChartDate,\n            height: 40,\n            tickMargin: 10,\n            interval: \"preserveStartEnd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n            yAxisId: \"price\",\n            orientation: \"right\",\n            axisLine: false,\n            tickLine: false,\n            tick: {\n              fill: CHART_COLORS.PRIMARY,\n              fontSize: 11,\n              fontFamily: 'JetBrains Mono, monospace'\n            },\n            tickFormatter: formatCurrency,\n            width: 80,\n            tickMargin: 5,\n            domain: ['dataMin * 0.95', 'dataMax * 1.05']\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n            yAxisId: \"volume\",\n            orientation: \"left\",\n            axisLine: false,\n            tickLine: false,\n            tick: {\n              fill: CHART_COLORS.TEXT_SECONDARY,\n              fontSize: 10,\n              fontFamily: 'JetBrains Mono, monospace'\n            },\n            tickFormatter: formatVolume,\n            width: 60,\n            tickMargin: 5,\n            domain: [0, 'dataMax * 1.1']\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            content: /*#__PURE__*/_jsxDEV(CustomTooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 26\n            }, this),\n            cursor: {\n              stroke: color,\n              strokeWidth: 1,\n              strokeOpacity: 0.5\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Bar, {\n            yAxisId: \"volume\",\n            dataKey: \"volume\",\n            fill: \"#e5e7eb\",\n            opacity: 0.3,\n            radius: [2, 2, 0, 0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Area, {\n            yAxisId: \"price\",\n            type: \"monotone\",\n            dataKey: \"price\",\n            stroke: color,\n            strokeWidth: 2,\n            fill: `url(#${gradientId})`,\n            dot: false,\n            activeDot: {\n              r: 4,\n              stroke: color,\n              strokeWidth: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(AreaChart, {\n          data: chartData,\n          margin: {\n            top: 20,\n            right: 30,\n            left: 20,\n            bottom: 5\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n            children: /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n              id: gradientId,\n              x1: \"0\",\n              y1: \"0\",\n              x2: \"0\",\n              y2: \"1\",\n              children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n                offset: \"5%\",\n                stopColor: color,\n                stopOpacity: 0.3\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                offset: \"95%\",\n                stopColor: color,\n                stopOpacity: 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"1 3\",\n            stroke: CHART_COLORS.GRID,\n            strokeWidth: 0.5,\n            horizontal: true,\n            vertical: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"timestamp\",\n            axisLine: false,\n            tickLine: false,\n            tick: {\n              fill: CHART_COLORS.TEXT_SECONDARY,\n              fontSize: 11,\n              fontFamily: 'JetBrains Mono, monospace'\n            },\n            tickFormatter: formatChartDate,\n            height: 40,\n            tickMargin: 10,\n            interval: \"preserveStartEnd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n            axisLine: false,\n            tickLine: false,\n            tick: {\n              fill: CHART_COLORS.PRIMARY,\n              fontSize: 11,\n              fontFamily: 'JetBrains Mono, monospace'\n            },\n            tickFormatter: activeChart === 'volume' ? formatVolume : formatCurrency,\n            width: 80,\n            tickMargin: 5,\n            domain: ['dataMin * 0.95', 'dataMax * 1.05']\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            content: /*#__PURE__*/_jsxDEV(CustomTooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 26\n            }, this),\n            cursor: {\n              stroke: color,\n              strokeWidth: 1,\n              strokeOpacity: 0.5\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Area, {\n            type: \"monotone\",\n            dataKey: activeChart,\n            stroke: color,\n            strokeWidth: 2,\n            fill: `url(#${gradientId})`,\n            dot: false,\n            activeDot: {\n              r: 4,\n              stroke: color,\n              strokeWidth: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 256,\n    columnNumber: 5\n  }, this);\n}, \"cf9+4/OONYXcS29T5jsyBSSWAHM=\")), \"cf9+4/OONYXcS29T5jsyBSSWAHM=\");\n_c6 = OptimizedChart;\nOptimizedChart.displayName = 'OptimizedChart';\nexport default OptimizedChart;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"CustomTooltip$memo\");\n$RefreshReg$(_c2, \"CustomTooltip\");\n$RefreshReg$(_c3, \"ChartHeader$memo\");\n$RefreshReg$(_c4, \"ChartHeader\");\n$RefreshReg$(_c5, \"OptimizedChart$memo\");\n$RefreshReg$(_c6, \"OptimizedChart\");","map":{"version":3,"names":["React","useState","useMemo","memo","useCallback","AreaChart","Area","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","ComposedChart","Bar","motion","CHART_COLORS","CHART_HEIGHTS","ANIMATION_DURATIONS","ANIMATION_DELAYS","THEME_COLORS","formatCurrency","formatVolume","formatChartDate","jsxDEV","_jsxDEV","TIMEFRAME_OPTIONS","CHART_TYPE_OPTIONS","key","label","color","CustomTooltip","_c","active","payload","length","className","style","backgroundColor","DARK_BLACK","borderColor","PRIMARY","boxShadow","children","fileName","_jsxFileName","lineNumber","columnNumber","map","entry","index","name","value","_c2","displayName","ChartHeader","_c3","title","currentValue","change24h","activeChart","timeframe","onChartTypeChange","onTimeframeChange","isPositive","toFixed","onClick","background","tf","_c4","OptimizedChart","_s","_c5","data","height","LARGE","showVolume","setActiveChart","setTimeframe","chartData","sortedData","sort","a","b","Date","timestamp","getTime","latest","previous","currentVal","previousVal","change","handleChartTypeChange","type","handleTimeframeChange","div","initial","opacity","animate","transition","duration","NORMAL","gradientId","y","delay","MEDIUM","width","margin","top","right","left","bottom","id","x1","y1","x2","y2","offset","stopColor","stopOpacity","strokeDasharray","stroke","GRID","strokeWidth","horizontal","vertical","dataKey","axisLine","tickLine","tick","fill","TEXT_SECONDARY","fontSize","fontFamily","tickFormatter","tickMargin","interval","yAxisId","orientation","domain","content","cursor","strokeOpacity","radius","dot","activeDot","r","_c6","$RefreshReg$"],"sources":["/Users/gherardolattanzi/treasury/src/components/charts/OptimizedChart.tsx"],"sourcesContent":["/**\n * Optimized Chart Component\n * High-performance, clean chart implementation with proper error handling and memoization\n */\n\nimport React, { useState, useMemo, memo, useCallback } from 'react';\nimport {\n  AreaChart,\n  Area,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  ComposedChart,\n  Bar\n} from 'recharts';\nimport { motion } from 'framer-motion';\nimport { \n  CHART_COLORS, \n  CHART_HEIGHTS, \n  ANIMATION_DURATIONS, \n  ANIMATION_DELAYS,\n  THEME_COLORS \n} from '../../constants';\nimport { formatCurrency, formatVolume, formatChartDate } from '../../utils/formatters';\nimport type { ChartProps, ChartDataPoint } from '../../types';\n\n// Chart type options\ntype ChartType = 'price' | 'marketCap' | 'volume';\ntype TimeframeOption = '1D' | '7D' | '30D' | '90D' | '1Y';\n\nconst TIMEFRAME_OPTIONS: TimeframeOption[] = ['1D', '7D', '30D', '90D', '1Y'];\nconst CHART_TYPE_OPTIONS: Array<{\n  key: ChartType;\n  label: string;\n  color: string;\n}> = [\n  { key: 'price', label: 'Price', color: '#16a34a' },\n  { key: 'marketCap', label: 'Market Cap', color: '#2563eb' },\n  { key: 'volume', label: 'Volume', color: '#dc2626' }\n];\n\n/**\n * Custom tooltip component for better performance\n */\ninterface TooltipProps {\n  active?: boolean;\n  payload?: Array<{\n    color: string;\n    name: string;\n    value: number;\n    dataKey: string;\n  }>;\n  label?: string;\n}\n\nconst CustomTooltip = memo<TooltipProps>(({ active, payload, label }) => {\n  if (!active || !payload || !payload.length) return null;\n\n  return (\n    <div\n      className=\"rounded-lg p-3 shadow-lg border\"\n      style={{\n        backgroundColor: THEME_COLORS.DARK_BLACK,\n        borderColor: CHART_COLORS.PRIMARY,\n        boxShadow: `0 10px 25px -5px ${CHART_COLORS.PRIMARY}1a`,\n      }}\n    >\n      <p className=\"text-xs font-mono mb-2\" style={{ color: CHART_COLORS.PRIMARY }}>\n        {formatChartDate(label)}\n      </p>\n      {payload.map((entry: any, index: number) => (\n        <p key={index} className=\"text-xs font-mono\" style={{ color: entry.color }}>\n          {`${entry.name}: ${\n            entry.name === 'Volume' ? formatVolume(entry.value) : formatCurrency(entry.value)\n          }`}\n        </p>\n      ))}\n    </div>\n  );\n});\n\nCustomTooltip.displayName = 'CustomTooltip';\n\n/**\n * Chart header with controls\n */\ninterface ChartHeaderProps {\n  title: string;\n  currentValue: number;\n  change24h: number;\n  activeChart: ChartType;\n  timeframe: TimeframeOption;\n  onChartTypeChange: (type: ChartType) => void;\n  onTimeframeChange: (timeframe: TimeframeOption) => void;\n}\n\nconst ChartHeader = memo<ChartHeaderProps>(({\n  title,\n  currentValue,\n  change24h,\n  activeChart,\n  timeframe,\n  onChartTypeChange,\n  onTimeframeChange\n}) => {\n  const isPositive = change24h >= 0;\n  \n  return (\n    <div className=\"flex flex-col lg:flex-row lg:items-center justify-between mb-6 gap-4\">\n      {/* Title and current value */}\n      <div>\n        <h3 className=\"text-xl font-bold text-white mb-2 font-mono\">{title}</h3>\n        <div className=\"flex items-center gap-4\">\n          <span className=\"text-2xl font-bold text-white font-mono\">\n            {activeChart === 'volume' ? formatVolume(currentValue) : formatCurrency(currentValue)}\n          </span>\n          <span \n            className={`text-sm font-medium px-2 py-1 rounded font-mono ${\n              isPositive \n                ? `text-[${CHART_COLORS.PRIMARY}] bg-[${CHART_COLORS.PRIMARY}]/10` \n                : 'text-red-400 bg-red-900/30'\n            }`}\n          >\n            {isPositive ? '+' : ''}{change24h.toFixed(2)}%\n          </span>\n        </div>\n      </div>\n\n      {/* Controls */}\n      <div className=\"flex flex-col sm:flex-row gap-3\">\n        {/* Chart type selector */}\n        <div className=\"flex gap-2\">\n          {CHART_TYPE_OPTIONS.map(({ key, label, color }) => (\n            <button\n              key={key}\n              onClick={() => onChartTypeChange(key)}\n              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors font-mono ${\n                activeChart === key\n                  ? 'text-black border'\n                  : 'text-gray-400 hover:text-white'\n              }`}\n              style={\n                activeChart === key \n                  ? { \n                      background: CHART_COLORS.PRIMARY, \n                      borderColor: CHART_COLORS.PRIMARY \n                    }\n                  : { background: THEME_COLORS.DARK_BLACK }\n              }\n            >\n              {label}\n            </button>\n          ))}\n        </div>\n\n        {/* Timeframe selector */}\n        <div \n          className=\"flex rounded-lg p-1\" \n          style={{ background: THEME_COLORS.DARK_BLACK }}\n        >\n          {TIMEFRAME_OPTIONS.map((tf) => (\n            <button\n              key={tf}\n              onClick={() => onTimeframeChange(tf)}\n              className={`px-3 py-1 text-xs font-medium rounded transition-colors font-mono ${\n                timeframe === tf\n                  ? 'text-black shadow-sm'\n                  : 'text-gray-300 hover:text-white'\n              }`}\n              style={\n                timeframe === tf \n                  ? { background: CHART_COLORS.PRIMARY } \n                  : {}\n              }\n            >\n              {tf}\n            </button>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n});\n\nChartHeader.displayName = 'ChartHeader';\n\n/**\n * Main Optimized Chart Component\n */\nexport const OptimizedChart = memo<ChartProps>(({\n  data,\n  title,\n  color = CHART_COLORS.PRIMARY,\n  height = CHART_HEIGHTS.LARGE,\n  showVolume = true\n}) => {\n  const [activeChart, setActiveChart] = useState<ChartType>('price');\n  const [timeframe, setTimeframe] = useState<TimeframeOption>('30D');\n\n  // Memoized calculations\n  const { currentValue, change24h, chartData } = useMemo(() => {\n    if (!data || data.length === 0) {\n      return { currentValue: 0, change24h: 0, chartData: [] };\n    }\n\n    const sortedData = [...data].sort(\n      (a, b) => new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime()\n    );\n\n    const latest = sortedData[sortedData.length - 1];\n    const previous = sortedData[sortedData.length - 2];\n    \n    const currentVal = latest?.[activeChart] || 0;\n    const previousVal = previous?.[activeChart] || currentVal;\n    const change = previousVal === 0 ? 0 : ((currentVal - previousVal) / previousVal) * 100;\n\n    return {\n      currentValue: currentVal,\n      change24h: change,\n      chartData: sortedData\n    };\n  }, [data, activeChart]);\n\n  // Event handlers\n  const handleChartTypeChange = useCallback((type: ChartType) => {\n    setActiveChart(type);\n  }, []);\n\n  const handleTimeframeChange = useCallback((tf: TimeframeOption) => {\n    setTimeframe(tf);\n  }, []);\n\n  // Error boundary fallback\n  if (!data || data.length === 0) {\n    return (\n      <motion.div\n        className=\"dark-card flex items-center justify-center\"\n        style={{ height }}\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ duration: ANIMATION_DURATIONS.NORMAL }}\n      >\n        <div className=\"text-center\">\n          <div className=\"text-gray-400 mb-2\">ðŸ“Š</div>\n          <p className=\"text-gray-400 text-sm\">No chart data available</p>\n        </div>\n      </motion.div>\n    );\n  }\n\n  const gradientId = `gradient-${activeChart}`;\n\n  return (\n    <motion.div\n      className=\"dark-card\"\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ \n        duration: ANIMATION_DURATIONS.NORMAL,\n        delay: ANIMATION_DELAYS.MEDIUM \n      }}\n    >\n      <ChartHeader\n        title={title}\n        currentValue={currentValue}\n        change24h={change24h}\n        activeChart={activeChart}\n        timeframe={timeframe}\n        onChartTypeChange={handleChartTypeChange}\n        onTimeframeChange={handleTimeframeChange}\n      />\n\n      {/* Chart Container */}\n      <div style={{ height }} className=\"w-full\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          {showVolume && activeChart === 'price' ? (\n            <ComposedChart \n              data={chartData} \n              margin={{ top: 20, right: 30, left: 20, bottom: 5 }}\n            >\n              <defs>\n                <linearGradient id={gradientId} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                  <stop offset=\"5%\" stopColor={color} stopOpacity={0.3} />\n                  <stop offset=\"95%\" stopColor={color} stopOpacity={0} />\n                </linearGradient>\n              </defs>\n              \n              <CartesianGrid\n                strokeDasharray=\"1 3\"\n                stroke={CHART_COLORS.GRID}\n                strokeWidth={0.5}\n                horizontal={true}\n                vertical={false}\n              />\n              \n              <XAxis\n                dataKey=\"timestamp\"\n                axisLine={false}\n                tickLine={false}\n                tick={{\n                  fill: CHART_COLORS.TEXT_SECONDARY,\n                  fontSize: 11,\n                  fontFamily: 'JetBrains Mono, monospace'\n                }}\n                tickFormatter={formatChartDate}\n                height={40}\n                tickMargin={10}\n                interval=\"preserveStartEnd\"\n              />\n              \n              <YAxis\n                yAxisId=\"price\"\n                orientation=\"right\"\n                axisLine={false}\n                tickLine={false}\n                tick={{\n                  fill: CHART_COLORS.PRIMARY,\n                  fontSize: 11,\n                  fontFamily: 'JetBrains Mono, monospace'\n                }}\n                tickFormatter={formatCurrency}\n                width={80}\n                tickMargin={5}\n                domain={['dataMin * 0.95', 'dataMax * 1.05']}\n              />\n              \n              <YAxis\n                yAxisId=\"volume\"\n                orientation=\"left\"\n                axisLine={false}\n                tickLine={false}\n                tick={{\n                  fill: CHART_COLORS.TEXT_SECONDARY,\n                  fontSize: 10,\n                  fontFamily: 'JetBrains Mono, monospace'\n                }}\n                tickFormatter={formatVolume}\n                width={60}\n                tickMargin={5}\n                domain={[0, 'dataMax * 1.1']}\n              />\n              \n              <Tooltip\n                content={<CustomTooltip />}\n                cursor={{ stroke: color, strokeWidth: 1, strokeOpacity: 0.5 }}\n              />\n              \n              <Bar\n                yAxisId=\"volume\"\n                dataKey=\"volume\"\n                fill=\"#e5e7eb\"\n                opacity={0.3}\n                radius={[2, 2, 0, 0]}\n              />\n              \n              <Area\n                yAxisId=\"price\"\n                type=\"monotone\"\n                dataKey=\"price\"\n                stroke={color}\n                strokeWidth={2}\n                fill={`url(#${gradientId})`}\n                dot={false}\n                activeDot={{ r: 4, stroke: color, strokeWidth: 2 }}\n              />\n            </ComposedChart>\n          ) : (\n            <AreaChart \n              data={chartData} \n              margin={{ top: 20, right: 30, left: 20, bottom: 5 }}\n            >\n              <defs>\n                <linearGradient id={gradientId} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                  <stop offset=\"5%\" stopColor={color} stopOpacity={0.3} />\n                  <stop offset=\"95%\" stopColor={color} stopOpacity={0} />\n                </linearGradient>\n              </defs>\n              \n              <CartesianGrid\n                strokeDasharray=\"1 3\"\n                stroke={CHART_COLORS.GRID}\n                strokeWidth={0.5}\n                horizontal={true}\n                vertical={false}\n              />\n              \n              <XAxis\n                dataKey=\"timestamp\"\n                axisLine={false}\n                tickLine={false}\n                tick={{\n                  fill: CHART_COLORS.TEXT_SECONDARY,\n                  fontSize: 11,\n                  fontFamily: 'JetBrains Mono, monospace'\n                }}\n                tickFormatter={formatChartDate}\n                height={40}\n                tickMargin={10}\n                interval=\"preserveStartEnd\"\n              />\n              \n              <YAxis\n                axisLine={false}\n                tickLine={false}\n                tick={{\n                  fill: CHART_COLORS.PRIMARY,\n                  fontSize: 11,\n                  fontFamily: 'JetBrains Mono, monospace'\n                }}\n                tickFormatter={activeChart === 'volume' ? formatVolume : formatCurrency}\n                width={80}\n                tickMargin={5}\n                domain={['dataMin * 0.95', 'dataMax * 1.05']}\n              />\n              \n              <Tooltip\n                content={<CustomTooltip />}\n                cursor={{ stroke: color, strokeWidth: 1, strokeOpacity: 0.5 }}\n              />\n              \n              <Area\n                type=\"monotone\"\n                dataKey={activeChart}\n                stroke={color}\n                strokeWidth={2}\n                fill={`url(#${gradientId})`}\n                dot={false}\n                activeDot={{ r: 4, stroke: color, strokeWidth: 2 }}\n              />\n            </AreaChart>\n          )}\n        </ResponsiveContainer>\n      </div>\n    </motion.div>\n  );\n});\n\nOptimizedChart.displayName = 'OptimizedChart';\n\nexport default OptimizedChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}