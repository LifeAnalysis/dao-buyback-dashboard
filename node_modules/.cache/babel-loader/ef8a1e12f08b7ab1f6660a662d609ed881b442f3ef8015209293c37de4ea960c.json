{"ast":null,"code":"var _jsxFileName = \"/Users/gherardolattanzi/treasury/src/components/charts/OptimizedChart.tsx\",\n  _s = $RefreshSig$();\n/**\n * Optimized Chart Component\n * High-performance, clean chart implementation with proper error handling and memoization\n */\n\nimport React, { useState, useMemo, memo, useCallback } from 'react';\nimport { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, ComposedChart, Bar } from 'recharts';\nimport { motion } from 'framer-motion';\nimport { CHART_COLORS, CHART_HEIGHTS, ANIMATION_DURATIONS, ANIMATION_DELAYS, THEME_COLORS } from '../../constants';\nimport { formatCurrency, formatVolume, formatChartDate } from '../../utils/formatters';\n\n// Chart type options focused on DAO treasury metrics\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TIMEFRAME_OPTIONS = ['1D', '7D', '30D', '90D', '1Y'];\nconst CHART_TYPE_OPTIONS = [{\n  key: 'buybacks',\n  label: 'Buyback Value',\n  color: '#00ff87',\n  description: 'Total USD value of token buybacks'\n}, {\n  key: 'revenue',\n  label: 'Protocol Revenue',\n  color: '#16a34a',\n  description: 'Revenue generated from protocol fees'\n}, {\n  key: 'tokensBought',\n  label: 'Tokens Bought',\n  color: '#2563eb',\n  description: 'Number of tokens purchased back'\n}];\n\n/**\n * Custom tooltip component for better performance\n */\n\nconst CustomTooltip = /*#__PURE__*/memo(_c = ({\n  active,\n  payload,\n  label\n}) => {\n  if (!active || !payload || !payload.length) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rounded-lg p-3 shadow-lg border\",\n    style: {\n      backgroundColor: THEME_COLORS.DARK_BLACK,\n      borderColor: CHART_COLORS.PRIMARY,\n      boxShadow: `0 10px 25px -5px ${CHART_COLORS.PRIMARY}1a`\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs font-mono mb-2\",\n      style: {\n        color: CHART_COLORS.PRIMARY\n      },\n      children: label ? formatChartDate(label) : 'No date'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), payload.map((entry, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs font-mono\",\n      style: {\n        color: entry.color\n      },\n      children: `${entry.name}: ${(() => {\n        const formatter = entry.dataKey === 'tokensBought' ? formatVolume : formatCurrency;\n        return formatter(entry.value);\n      })()}`\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n});\n_c2 = CustomTooltip;\nCustomTooltip.displayName = 'CustomTooltip';\n\n/**\n * Chart header with controls\n */\n\nconst ChartHeader = /*#__PURE__*/memo(_c3 = ({\n  title,\n  currentValue,\n  change24h,\n  activeChart,\n  timeframe,\n  onChartTypeChange,\n  onTimeframeChange\n}) => {\n  const isPositive = change24h >= 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col lg:flex-row lg:items-center justify-between mb-6 gap-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-white mb-2 font-mono\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl font-bold text-white font-mono\",\n          children: (() => {\n            const chartType = activeChart;\n            const formatter = chartType === 'tokensBought' ? formatVolume : formatCurrency;\n            return formatter(currentValue);\n          })()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `text-sm font-medium px-2 py-1 rounded font-mono ${isPositive ? `text-[${CHART_COLORS.PRIMARY}] bg-[${CHART_COLORS.PRIMARY}]/10` : 'text-red-400 bg-red-900/30'}`,\n          children: [isPositive ? '+' : '', change24h.toFixed(2), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2\",\n        children: CHART_TYPE_OPTIONS.map(({\n          key,\n          label,\n          color,\n          description\n        }) => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onChartTypeChange(key),\n          title: description,\n          className: `px-4 py-2 text-sm font-medium rounded-lg transition-colors font-mono ${activeChart === key ? 'text-black border' : 'text-gray-400 hover:text-white'}`,\n          style: activeChart === key ? {\n            background: CHART_COLORS.PRIMARY,\n            borderColor: CHART_COLORS.PRIMARY\n          } : {\n            background: THEME_COLORS.DARK_BLACK\n          },\n          children: label\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex rounded-lg p-1\",\n        style: {\n          background: THEME_COLORS.DARK_BLACK\n        },\n        children: TIMEFRAME_OPTIONS.map(tf => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onTimeframeChange(tf),\n          className: `px-3 py-1 text-xs font-medium rounded transition-colors font-mono ${timeframe === tf ? 'text-black shadow-sm' : 'text-gray-300 hover:text-white'}`,\n          style: timeframe === tf ? {\n            background: CHART_COLORS.PRIMARY\n          } : {},\n          children: tf\n        }, tf, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n});\n_c4 = ChartHeader;\nChartHeader.displayName = 'ChartHeader';\n\n/**\n * Main Optimized Chart Component\n */\nexport const OptimizedChart = /*#__PURE__*/_s(/*#__PURE__*/memo(_c5 = _s(({\n  data,\n  title,\n  color = CHART_COLORS.PRIMARY,\n  height = CHART_HEIGHTS.LARGE,\n  showVolume = true\n}) => {\n  _s();\n  const [activeChart, setActiveChart] = useState('buybacks');\n  const [timeframe, setTimeframe] = useState('30D');\n\n  // Memoized calculations\n  const {\n    currentValue,\n    change24h,\n    chartData\n  } = useMemo(() => {\n    if (!data || data.length === 0) {\n      return {\n        currentValue: 0,\n        change24h: 0,\n        chartData: []\n      };\n    }\n    const sortedData = [...data].sort((a, b) => new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime());\n    const latest = sortedData[sortedData.length - 1];\n    const previous = sortedData[sortedData.length - 2];\n    const currentVal = (latest === null || latest === void 0 ? void 0 : latest[activeChart]) || 0;\n    const previousVal = (previous === null || previous === void 0 ? void 0 : previous[activeChart]) || currentVal;\n    const change = previousVal === 0 ? 0 : (currentVal - previousVal) / previousVal * 100;\n    return {\n      currentValue: currentVal,\n      change24h: change,\n      chartData: sortedData\n    };\n  }, [data, activeChart]);\n\n  // Event handlers\n  const handleChartTypeChange = useCallback(type => {\n    setActiveChart(type);\n  }, []);\n  const handleTimeframeChange = useCallback(tf => {\n    setTimeframe(tf);\n  }, []);\n\n  // Error boundary fallback\n  if (!data || data.length === 0) {\n    return /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"dark-card flex items-center justify-center\",\n      style: {\n        height\n      },\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      transition: {\n        duration: ANIMATION_DURATIONS.NORMAL\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-400 mb-2\",\n          children: \"\\uD83D\\uDCCA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400 text-sm\",\n          children: \"No chart data available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this);\n  }\n  const gradientId = `gradient-${activeChart}`;\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: \"dark-card\",\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    transition: {\n      duration: ANIMATION_DURATIONS.NORMAL,\n      delay: ANIMATION_DELAYS.MEDIUM\n    },\n    children: [/*#__PURE__*/_jsxDEV(ChartHeader, {\n      title: title,\n      currentValue: currentValue,\n      change24h: change24h,\n      activeChart: activeChart,\n      timeframe: timeframe,\n      onChartTypeChange: handleChartTypeChange,\n      onTimeframeChange: handleTimeframeChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height\n      },\n      className: \"w-full\",\n      children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n        width: \"100%\",\n        height: \"100%\",\n        children: showVolume && activeChart === 'buybacks' ? /*#__PURE__*/_jsxDEV(ComposedChart, {\n          data: chartData,\n          margin: {\n            top: 20,\n            right: 30,\n            left: 20,\n            bottom: 5\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n            children: /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n              id: gradientId,\n              x1: \"0\",\n              y1: \"0\",\n              x2: \"0\",\n              y2: \"1\",\n              children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n                offset: \"5%\",\n                stopColor: color,\n                stopOpacity: 0.3\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                offset: \"95%\",\n                stopColor: color,\n                stopOpacity: 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"1 3\",\n            stroke: CHART_COLORS.GRID,\n            strokeWidth: 0.5,\n            horizontal: true,\n            vertical: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"timestamp\",\n            axisLine: false,\n            tickLine: false,\n            tick: {\n              fill: CHART_COLORS.TEXT_SECONDARY,\n              fontSize: 11,\n              fontFamily: 'JetBrains Mono, monospace'\n            },\n            tickFormatter: formatChartDate,\n            height: 40,\n            tickMargin: 10,\n            interval: \"preserveStartEnd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n            yAxisId: \"primary\",\n            orientation: \"right\",\n            axisLine: false,\n            tickLine: false,\n            tick: {\n              fill: CHART_COLORS.PRIMARY,\n              fontSize: 11,\n              fontFamily: 'JetBrains Mono, monospace'\n            },\n            tickFormatter: value => {\n              const chartType = activeChart;\n              const formatter = chartType === 'tokensBought' ? formatVolume : formatCurrency;\n              return formatter(value);\n            },\n            width: 80,\n            tickMargin: 5,\n            domain: ['dataMin * 0.95', 'dataMax * 1.05']\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n            yAxisId: \"secondary\",\n            orientation: \"left\",\n            axisLine: false,\n            tickLine: false,\n            tick: {\n              fill: CHART_COLORS.TEXT_SECONDARY,\n              fontSize: 10,\n              fontFamily: 'JetBrains Mono, monospace'\n            },\n            tickFormatter: formatVolume,\n            width: 60,\n            tickMargin: 5,\n            domain: [0, 'dataMax * 1.1']\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            content: /*#__PURE__*/_jsxDEV(CustomTooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 26\n            }, this),\n            cursor: {\n              stroke: color,\n              strokeWidth: 1,\n              strokeOpacity: 0.5\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Bar, {\n            yAxisId: \"secondary\",\n            dataKey: \"revenue\",\n            fill: \"#16a34a\",\n            opacity: 0.4,\n            radius: [2, 2, 0, 0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Area, {\n            yAxisId: \"primary\",\n            type: \"monotone\",\n            dataKey: activeChart,\n            stroke: color,\n            strokeWidth: 2,\n            fill: `url(#${gradientId})`,\n            dot: false,\n            activeDot: {\n              r: 4,\n              stroke: color,\n              strokeWidth: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(AreaChart, {\n          data: chartData,\n          margin: {\n            top: 20,\n            right: 30,\n            left: 20,\n            bottom: 5\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n            children: /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n              id: gradientId,\n              x1: \"0\",\n              y1: \"0\",\n              x2: \"0\",\n              y2: \"1\",\n              children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n                offset: \"5%\",\n                stopColor: color,\n                stopOpacity: 0.3\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                offset: \"95%\",\n                stopColor: color,\n                stopOpacity: 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"1 3\",\n            stroke: CHART_COLORS.GRID,\n            strokeWidth: 0.5,\n            horizontal: true,\n            vertical: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"timestamp\",\n            axisLine: false,\n            tickLine: false,\n            tick: {\n              fill: CHART_COLORS.TEXT_SECONDARY,\n              fontSize: 11,\n              fontFamily: 'JetBrains Mono, monospace'\n            },\n            tickFormatter: formatChartDate,\n            height: 40,\n            tickMargin: 10,\n            interval: \"preserveStartEnd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n            axisLine: false,\n            tickLine: false,\n            tick: {\n              fill: CHART_COLORS.PRIMARY,\n              fontSize: 11,\n              fontFamily: 'JetBrains Mono, monospace'\n            },\n            tickFormatter: value => {\n              const chartType = activeChart;\n              const formatter = chartType === 'tokensBought' ? formatVolume : formatCurrency;\n              return formatter(value);\n            },\n            width: 80,\n            tickMargin: 5,\n            domain: ['dataMin * 0.95', 'dataMax * 1.05']\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            content: /*#__PURE__*/_jsxDEV(CustomTooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 26\n            }, this),\n            cursor: {\n              stroke: color,\n              strokeWidth: 1,\n              strokeOpacity: 0.5\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Area, {\n            type: \"monotone\",\n            dataKey: activeChart,\n            stroke: color,\n            strokeWidth: 2,\n            fill: `url(#${gradientId})`,\n            dot: false,\n            activeDot: {\n              r: 4,\n              stroke: color,\n              strokeWidth: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 265,\n    columnNumber: 5\n  }, this);\n}, \"1X4HdFko2f6LVwMn+7mK2m/mIJI=\")), \"1X4HdFko2f6LVwMn+7mK2m/mIJI=\");\n_c6 = OptimizedChart;\nOptimizedChart.displayName = 'OptimizedChart';\nexport default OptimizedChart;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"CustomTooltip$memo\");\n$RefreshReg$(_c2, \"CustomTooltip\");\n$RefreshReg$(_c3, \"ChartHeader$memo\");\n$RefreshReg$(_c4, \"ChartHeader\");\n$RefreshReg$(_c5, \"OptimizedChart$memo\");\n$RefreshReg$(_c6, \"OptimizedChart\");","map":{"version":3,"names":["React","useState","useMemo","memo","useCallback","AreaChart","Area","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","ComposedChart","Bar","motion","CHART_COLORS","CHART_HEIGHTS","ANIMATION_DURATIONS","ANIMATION_DELAYS","THEME_COLORS","formatCurrency","formatVolume","formatChartDate","jsxDEV","_jsxDEV","TIMEFRAME_OPTIONS","CHART_TYPE_OPTIONS","key","label","color","description","CustomTooltip","_c","active","payload","length","className","style","backgroundColor","DARK_BLACK","borderColor","PRIMARY","boxShadow","children","fileName","_jsxFileName","lineNumber","columnNumber","map","entry","index","name","formatter","dataKey","value","_c2","displayName","ChartHeader","_c3","title","currentValue","change24h","activeChart","timeframe","onChartTypeChange","onTimeframeChange","isPositive","chartType","toFixed","onClick","background","tf","_c4","OptimizedChart","_s","_c5","data","height","LARGE","showVolume","setActiveChart","setTimeframe","chartData","sortedData","sort","a","b","Date","timestamp","getTime","latest","previous","currentVal","previousVal","change","handleChartTypeChange","type","handleTimeframeChange","div","initial","opacity","animate","transition","duration","NORMAL","gradientId","y","delay","MEDIUM","width","margin","top","right","left","bottom","id","x1","y1","x2","y2","offset","stopColor","stopOpacity","strokeDasharray","stroke","GRID","strokeWidth","horizontal","vertical","axisLine","tickLine","tick","fill","TEXT_SECONDARY","fontSize","fontFamily","tickFormatter","tickMargin","interval","yAxisId","orientation","domain","content","cursor","strokeOpacity","radius","dot","activeDot","r","_c6","$RefreshReg$"],"sources":["/Users/gherardolattanzi/treasury/src/components/charts/OptimizedChart.tsx"],"sourcesContent":["/**\n * Optimized Chart Component\n * High-performance, clean chart implementation with proper error handling and memoization\n */\n\nimport React, { useState, useMemo, memo, useCallback } from 'react';\nimport {\n  AreaChart,\n  Area,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  ComposedChart,\n  Bar\n} from 'recharts';\nimport { motion } from 'framer-motion';\nimport { \n  CHART_COLORS, \n  CHART_HEIGHTS, \n  ANIMATION_DURATIONS, \n  ANIMATION_DELAYS,\n  THEME_COLORS \n} from '../../constants';\nimport { formatCurrency, formatVolume, formatChartDate } from '../../utils/formatters';\nimport type { ChartProps } from '../../types';\n\n// Chart type options focused on DAO treasury metrics\ntype ChartType = 'buybacks' | 'revenue' | 'tokensBought';\ntype TimeframeOption = '1D' | '7D' | '30D' | '90D' | '1Y';\n\nconst TIMEFRAME_OPTIONS: TimeframeOption[] = ['1D', '7D', '30D', '90D', '1Y'];\nconst CHART_TYPE_OPTIONS: Array<{\n  key: ChartType;\n  label: string;\n  color: string;\n  description: string;\n}> = [\n  { key: 'buybacks', label: 'Buyback Value', color: '#00ff87', description: 'Total USD value of token buybacks' },\n  { key: 'revenue', label: 'Protocol Revenue', color: '#16a34a', description: 'Revenue generated from protocol fees' },\n  { key: 'tokensBought', label: 'Tokens Bought', color: '#2563eb', description: 'Number of tokens purchased back' }\n];\n\n/**\n * Custom tooltip component for better performance\n */\ninterface TooltipProps {\n  active?: boolean;\n  payload?: Array<{\n    color: string;\n    name: string;\n    value: number;\n    dataKey: string;\n  }>;\n  label?: string;\n}\n\nconst CustomTooltip = memo<TooltipProps>(({ active, payload, label }) => {\n  if (!active || !payload || !payload.length) return null;\n\n  return (\n    <div\n      className=\"rounded-lg p-3 shadow-lg border\"\n      style={{\n        backgroundColor: THEME_COLORS.DARK_BLACK,\n        borderColor: CHART_COLORS.PRIMARY,\n        boxShadow: `0 10px 25px -5px ${CHART_COLORS.PRIMARY}1a`,\n      }}\n    >\n      <p className=\"text-xs font-mono mb-2\" style={{ color: CHART_COLORS.PRIMARY }}>\n        {label ? formatChartDate(label) : 'No date'}\n      </p>\n      {payload.map((entry, index: number) => (\n        <p key={index} className=\"text-xs font-mono\" style={{ color: entry.color }}>\n          {`${entry.name}: ${\n            (() => {\n              const formatter = entry.dataKey === 'tokensBought' ? formatVolume : formatCurrency;\n              return formatter(entry.value);\n            })()\n          }`}\n        </p>\n      ))}\n    </div>\n  );\n});\n\nCustomTooltip.displayName = 'CustomTooltip';\n\n/**\n * Chart header with controls\n */\ninterface ChartHeaderProps {\n  title: string;\n  currentValue: number;\n  change24h: number;\n  activeChart: ChartType;\n  timeframe: TimeframeOption;\n  onChartTypeChange: (type: ChartType) => void;\n  onTimeframeChange: (timeframe: TimeframeOption) => void;\n}\n\nconst ChartHeader = memo<ChartHeaderProps>(({\n  title,\n  currentValue,\n  change24h,\n  activeChart,\n  timeframe,\n  onChartTypeChange,\n  onTimeframeChange\n}) => {\n  const isPositive = change24h >= 0;\n  \n  return (\n    <div className=\"flex flex-col lg:flex-row lg:items-center justify-between mb-6 gap-4\">\n      {/* Title and current value */}\n      <div>\n        <h3 className=\"text-xl font-bold text-white mb-2 font-mono\">{title}</h3>\n        <div className=\"flex items-center gap-4\">\n          <span className=\"text-2xl font-bold text-white font-mono\">\n            {(() => {\n              const chartType = activeChart as ChartType;\n              const formatter = chartType === 'tokensBought' ? formatVolume : formatCurrency;\n              return formatter(currentValue);\n            })()}\n          </span>\n          <span \n            className={`text-sm font-medium px-2 py-1 rounded font-mono ${\n              isPositive \n                ? `text-[${CHART_COLORS.PRIMARY}] bg-[${CHART_COLORS.PRIMARY}]/10` \n                : 'text-red-400 bg-red-900/30'\n            }`}\n          >\n            {isPositive ? '+' : ''}{change24h.toFixed(2)}%\n          </span>\n        </div>\n      </div>\n\n      {/* Controls */}\n      <div className=\"flex flex-col sm:flex-row gap-3\">\n        {/* Chart type selector */}\n        <div className=\"flex flex-wrap gap-2\">\n          {CHART_TYPE_OPTIONS.map(({ key, label, color, description }) => (\n            <button\n              key={key}\n              onClick={() => onChartTypeChange(key)}\n              title={description}\n              className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors font-mono ${\n                activeChart === key\n                  ? 'text-black border'\n                  : 'text-gray-400 hover:text-white'\n              }`}\n              style={\n                activeChart === key \n                  ? { \n                      background: CHART_COLORS.PRIMARY, \n                      borderColor: CHART_COLORS.PRIMARY \n                    }\n                  : { background: THEME_COLORS.DARK_BLACK }\n              }\n            >\n              {label}\n            </button>\n          ))}\n        </div>\n\n        {/* Timeframe selector */}\n        <div \n          className=\"flex rounded-lg p-1\" \n          style={{ background: THEME_COLORS.DARK_BLACK }}\n        >\n          {TIMEFRAME_OPTIONS.map((tf) => (\n            <button\n              key={tf}\n              onClick={() => onTimeframeChange(tf)}\n              className={`px-3 py-1 text-xs font-medium rounded transition-colors font-mono ${\n                timeframe === tf\n                  ? 'text-black shadow-sm'\n                  : 'text-gray-300 hover:text-white'\n              }`}\n              style={\n                timeframe === tf \n                  ? { background: CHART_COLORS.PRIMARY } \n                  : {}\n              }\n            >\n              {tf}\n            </button>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n});\n\nChartHeader.displayName = 'ChartHeader';\n\n/**\n * Main Optimized Chart Component\n */\nexport const OptimizedChart = memo<ChartProps>(({\n  data,\n  title,\n  color = CHART_COLORS.PRIMARY,\n  height = CHART_HEIGHTS.LARGE,\n  showVolume = true\n}) => {\n  const [activeChart, setActiveChart] = useState<ChartType>('buybacks');\n  const [timeframe, setTimeframe] = useState<TimeframeOption>('30D');\n\n  // Memoized calculations\n  const { currentValue, change24h, chartData } = useMemo(() => {\n    if (!data || data.length === 0) {\n      return { currentValue: 0, change24h: 0, chartData: [] };\n    }\n\n    const sortedData = [...data].sort(\n      (a, b) => new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime()\n    );\n\n    const latest = sortedData[sortedData.length - 1];\n    const previous = sortedData[sortedData.length - 2];\n    \n    const currentVal = latest?.[activeChart] || 0;\n    const previousVal = previous?.[activeChart] || currentVal;\n    const change = previousVal === 0 ? 0 : ((currentVal - previousVal) / previousVal) * 100;\n\n    return {\n      currentValue: currentVal,\n      change24h: change,\n      chartData: sortedData\n    };\n  }, [data, activeChart]);\n\n  // Event handlers\n  const handleChartTypeChange = useCallback((type: ChartType) => {\n    setActiveChart(type);\n  }, []);\n\n  const handleTimeframeChange = useCallback((tf: TimeframeOption) => {\n    setTimeframe(tf);\n  }, []);\n\n  // Error boundary fallback\n  if (!data || data.length === 0) {\n    return (\n      <motion.div\n        className=\"dark-card flex items-center justify-center\"\n        style={{ height }}\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ duration: ANIMATION_DURATIONS.NORMAL }}\n      >\n        <div className=\"text-center\">\n          <div className=\"text-gray-400 mb-2\">📊</div>\n          <p className=\"text-gray-400 text-sm\">No chart data available</p>\n        </div>\n      </motion.div>\n    );\n  }\n\n  const gradientId = `gradient-${activeChart}`;\n\n  return (\n    <motion.div\n      className=\"dark-card\"\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ \n        duration: ANIMATION_DURATIONS.NORMAL,\n        delay: ANIMATION_DELAYS.MEDIUM \n      }}\n    >\n      <ChartHeader\n        title={title}\n        currentValue={currentValue}\n        change24h={change24h}\n        activeChart={activeChart}\n        timeframe={timeframe}\n        onChartTypeChange={handleChartTypeChange}\n        onTimeframeChange={handleTimeframeChange}\n      />\n\n      {/* Chart Container */}\n      <div style={{ height }} className=\"w-full\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          {showVolume && activeChart === 'buybacks' ? (\n            <ComposedChart \n              data={chartData} \n              margin={{ top: 20, right: 30, left: 20, bottom: 5 }}\n            >\n              <defs>\n                <linearGradient id={gradientId} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                  <stop offset=\"5%\" stopColor={color} stopOpacity={0.3} />\n                  <stop offset=\"95%\" stopColor={color} stopOpacity={0} />\n                </linearGradient>\n              </defs>\n              \n              <CartesianGrid\n                strokeDasharray=\"1 3\"\n                stroke={CHART_COLORS.GRID}\n                strokeWidth={0.5}\n                horizontal={true}\n                vertical={false}\n              />\n              \n              <XAxis\n                dataKey=\"timestamp\"\n                axisLine={false}\n                tickLine={false}\n                tick={{\n                  fill: CHART_COLORS.TEXT_SECONDARY,\n                  fontSize: 11,\n                  fontFamily: 'JetBrains Mono, monospace'\n                }}\n                tickFormatter={formatChartDate}\n                height={40}\n                tickMargin={10}\n                interval=\"preserveStartEnd\"\n              />\n              \n              <YAxis\n                yAxisId=\"primary\"\n                orientation=\"right\"\n                axisLine={false}\n                tickLine={false}\n                tick={{\n                  fill: CHART_COLORS.PRIMARY,\n                  fontSize: 11,\n                  fontFamily: 'JetBrains Mono, monospace'\n                }}\n                tickFormatter={(value: number) => {\n                  const chartType = activeChart as ChartType;\n                  const formatter = chartType === 'tokensBought' ? formatVolume : formatCurrency;\n                  return formatter(value);\n                }}\n                width={80}\n                tickMargin={5}\n                domain={['dataMin * 0.95', 'dataMax * 1.05']}\n              />\n              \n              <YAxis\n                yAxisId=\"secondary\"\n                orientation=\"left\"\n                axisLine={false}\n                tickLine={false}\n                tick={{\n                  fill: CHART_COLORS.TEXT_SECONDARY,\n                  fontSize: 10,\n                  fontFamily: 'JetBrains Mono, monospace'\n                }}\n                tickFormatter={formatVolume}\n                width={60}\n                tickMargin={5}\n                domain={[0, 'dataMax * 1.1']}\n              />\n              \n              <Tooltip\n                content={<CustomTooltip />}\n                cursor={{ stroke: color, strokeWidth: 1, strokeOpacity: 0.5 }}\n              />\n              \n              <Bar\n                yAxisId=\"secondary\"\n                dataKey=\"revenue\"\n                fill=\"#16a34a\"\n                opacity={0.4}\n                radius={[2, 2, 0, 0]}\n              />\n              \n              <Area\n                yAxisId=\"primary\"\n                type=\"monotone\"\n                dataKey={activeChart}\n                stroke={color}\n                strokeWidth={2}\n                fill={`url(#${gradientId})`}\n                dot={false}\n                activeDot={{ r: 4, stroke: color, strokeWidth: 2 }}\n              />\n            </ComposedChart>\n          ) : (\n            <AreaChart \n              data={chartData} \n              margin={{ top: 20, right: 30, left: 20, bottom: 5 }}\n            >\n              <defs>\n                <linearGradient id={gradientId} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                  <stop offset=\"5%\" stopColor={color} stopOpacity={0.3} />\n                  <stop offset=\"95%\" stopColor={color} stopOpacity={0} />\n                </linearGradient>\n              </defs>\n              \n              <CartesianGrid\n                strokeDasharray=\"1 3\"\n                stroke={CHART_COLORS.GRID}\n                strokeWidth={0.5}\n                horizontal={true}\n                vertical={false}\n              />\n              \n              <XAxis\n                dataKey=\"timestamp\"\n                axisLine={false}\n                tickLine={false}\n                tick={{\n                  fill: CHART_COLORS.TEXT_SECONDARY,\n                  fontSize: 11,\n                  fontFamily: 'JetBrains Mono, monospace'\n                }}\n                tickFormatter={formatChartDate}\n                height={40}\n                tickMargin={10}\n                interval=\"preserveStartEnd\"\n              />\n              \n              <YAxis\n                axisLine={false}\n                tickLine={false}\n                tick={{\n                  fill: CHART_COLORS.PRIMARY,\n                  fontSize: 11,\n                  fontFamily: 'JetBrains Mono, monospace'\n                }}\n                tickFormatter={(value: number) => {\n                  const chartType = activeChart as ChartType;\n                  const formatter = chartType === 'tokensBought' ? formatVolume : formatCurrency;\n                  return formatter(value);\n                }}\n                width={80}\n                tickMargin={5}\n                domain={['dataMin * 0.95', 'dataMax * 1.05']}\n              />\n              \n              <Tooltip\n                content={<CustomTooltip />}\n                cursor={{ stroke: color, strokeWidth: 1, strokeOpacity: 0.5 }}\n              />\n              \n              <Area\n                type=\"monotone\"\n                dataKey={activeChart}\n                stroke={color}\n                strokeWidth={2}\n                fill={`url(#${gradientId})`}\n                dot={false}\n                activeDot={{ r: 4, stroke: color, strokeWidth: 2 }}\n              />\n            </AreaChart>\n          )}\n        </ResponsiveContainer>\n      </div>\n    </motion.div>\n  );\n});\n\nOptimizedChart.displayName = 'OptimizedChart';\n\nexport default OptimizedChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}